<![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Step 1 — FlashURL</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <main class="container">
    <section class="card redirect-card" role="main" aria-labelledby="step-title">
      <div class="step-progress" aria-hidden="true">
        <div class="step active">1</div>
        <div class="step-line"></div>
        <div class="step">2</div>
        <div class="step-line"></div>
        <div class="step">3</div>
      </div>

      <h2 id="step-title">Preparing your link…</h2>
      <p class="step-text">Please wait while we prepare your destination. Ads keep this service free.</p>

      <!-- Top banner ad (mobile-friendly) -->
      <div class="ad-container banner-top" aria-hidden="false">
        <div class="ad-box banner-ad" role="region" aria-label="Advertisement - banner top">
      <div id="bannerTop-<%= shortId %>" class="ad-slot" aria-hidden="false"></div>
      <script>
        (function(){
          var containerId = 'bannerTop-<%= shortId %>';
          // ensure loader present
          function loadInvoke(){
            if (window.adLoader) {
              // set atOptions for legacy invoke script
              window.atOptions = {
                'key' : '3eff8504b33c6f3f2949267088e6b4c3',
                'format' : 'iframe',
                'height' : 60,
                'width' : 320,
                'params' : {}
              };
              adLoader.loadScript('https://www.highperformanceformat.com/3eff8504b33c6f3f2949267088e6b4c3/invoke.js', {timeout:7000, retries:1})
                .catch(function(){ adLoader.showFallback(document.getElementById(containerId)); });
            } else {
              var s = document.createElement('script');
              s.src = '/js/ads-loader.js';
              s.onload = function(){ loadInvoke(); };
              document.head.appendChild(s);
            }
          }
          loadInvoke();
        })();
      </script>
        </div>
      </div>

      <div class="countdown" aria-live="polite">
        <p>Please wait <span id="timer1" class="timer-count">8</span>s</p>
        <div class="progress-bar"><div id="progress1" class="progress"></div></div>
      </div>

      <a id="continueBtn1" class="btn hidden" href="/step2/<%= shortId %>">Continue</a>

      <!-- Bottom banner ad (mobile-friendly) -->
      <div class="ad-container banner-bottom">
        <div id="bannerBottom-<%= shortId %>" class="ad-box banner-ad" role="region" aria-label="Advertisement - banner bottom"></div>
      </div>
      <script>
        (function(){
          var containerId = 'bannerBottom-<%= shortId %>';
          function loadInvokeBottom(){
            if (window.adLoader) {
              window.atOptions = {
                'key' : '3eff8504b33c6f3f2949267088e6b4c3',
                'format' : 'iframe',
                'height' : 60,
                'width' : 320,
                'params' : {}
              };
              adLoader.loadScript('https://www.highperformanceformat.com/3eff8504b33c6f3f2949267088e6b4c3/invoke.js', {timeout:7000, retries:1})
                .catch(function(){ adLoader.showFallback(document.getElementById(containerId)); });
            } else {
              var s = document.createElement('script');
              s.src = '/js/ads-loader.js';
              s.onload = function(){ loadInvokeBottom(); };
              document.head.appendChild(s);
            }
          }
          loadInvokeBottom();
        })();
      </script>

      <!-- Social bar (kept, placed fixed bottom for mobile) -->
      <div id="socialBarContainer-<%= shortId %>" aria-hidden="true"></div>
      <script>
        (function(){
          var containerId = 'socialBarContainer-<%= shortId %>';
          var scriptUrl = 'https://pl28355881.effectivegatecpm.com/41/b9/68/41b9683409b2e1df660f482f0a40d231.js';
          if (window.adLoader) {
            adLoader.loadSocialBar(scriptUrl, containerId, '<div class="social-fallback">Connect</div>');
          } else {
            var s = document.createElement('script');
            s.src = '/js/ads-loader.js';
            s.onload = function(){ adLoader.loadSocialBar(scriptUrl, containerId, '<div class="social-fallback">Connect</div>'); };
            document.head.appendChild(s);
          }
        })();
      </script>

      <div class="destination">
        <p>Destination</p>
        <code><%= originalUrl %></code>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 FlashURL</p>
  </footer>

  <script>
    (function(){
      var timeLeft = 8;
      var timer = document.getElementById('timer1');
      var progress = document.getElementById('progress1');
      var btn = document.getElementById('continueBtn1');

      var interval = setInterval(function(){
        timeLeft--;
        if (timer) timer.textContent = timeLeft;
        if (progress) progress.style.width = ((8 - timeLeft)/8*100) + '%';
        if (timeLeft <= 0) {
          clearInterval(interval);
          if (btn) {
            btn.classList.remove('hidden');
            btn.setAttribute('aria-hidden','false');
          }
        }
      }, 1000);
    })();
  </script>

  <script src="/js/adblock-detect.js"></script>
  <script src="https://pl28355881.effectivegatecpm.com/41/b9/68/41b9683409b2e1df660f482f0a40d231.js" async></script>
</body>
</html>]]>
